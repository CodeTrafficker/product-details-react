{"ast":null,"code":"import './prodDetailsGrid.css'; // import products from './api/products.json';\n\nconst ProdDetailsGrid = () => {\n  const root = document.getElementById('root');\n\n  const fetchWestElm = () => {\n    // NOPE:\n    // const productUrl = 'https://www.westelm.com/services/catalog/v4/category/shop/new/all-new/index.json';  \n    // Had to move json file to /public/api/\n    const productUrl = '/api/products.json';\n    window.fetch(productUrl).then(async function (response) {\n      let jsonResponse = await response.json();\n      prodGrid(jsonResponse);\n    }).catch(function (err) {\n      console.log('err! ', err);\n      const errMsg = '<h2>Sorry - We are having technical difficulties!</h2>';\n      root.insertAdjacentHTML('beforeend', errMsg);\n    });\n  }; // single product hero with title\n\n\n  const singleProduct = (jsonResponse, index) => {\n    let thisImg = jsonResponse.groups[index].hero;\n    let prodName = jsonResponse.groups[index].name; // TODO: be able to select pricing: \n\n    let prodPrice = jsonResponse.groups[index].priceRange.regular.high;\n    let itemImg = '<img class=\"detailImg\" src=' + thisImg.href + ' alt=\"' + thisImg.alt + '\" rel=\"' + thisImg.rel + '\" width=' + thisImg.width + ' height=' + thisImg.height + ' title=\"' + thisImg.alt + '\" />';\n    let itemContainer = '<div class=\"prodCon\"' + '>' + '<div class=\"prodName\">' + prodName + '</div>' + '<div class=\"prodPrice\">$' + prodPrice + '</div>' + itemImg + '</div>';\n    root.insertAdjacentHTML('beforeend', itemContainer);\n  }; // Now deliver all products\n\n\n  const prodGrid = jsonResponse => {\n    const itemCount = jsonResponse.groups.length;\n\n    for (let i = 0; i < itemCount; i++) {\n      singleProduct(jsonResponse, i);\n    }\n  };\n\n  fetchWestElm();\n  return true;\n};\n\nexport default ProdDetailsGrid;","map":{"version":3,"sources":["/Users/plollar/workspace/GitHub/product-details-react/src/ProdDetailsGrid.js"],"names":["ProdDetailsGrid","root","document","getElementById","fetchWestElm","productUrl","window","fetch","then","response","jsonResponse","json","prodGrid","catch","err","console","log","errMsg","insertAdjacentHTML","singleProduct","index","thisImg","groups","hero","prodName","name","prodPrice","priceRange","regular","high","itemImg","href","alt","rel","width","height","itemContainer","itemCount","length","i"],"mappings":"AAAA,OAAO,uBAAP,C,CACA;;AAEA,MAAMA,eAAe,GAAE,MAAK;AAExB,QAAMC,IAAI,GAAGC,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAAb;;AAEA,QAAMC,YAAY,GAAG,MAAM;AACzB;AACA;AACA;AACA,UAAMC,UAAU,GAAG,oBAAnB;AAGAC,IAAAA,MAAM,CAACC,KAAP,CAAaF,UAAb,EACCG,IADD,CACM,gBAAeC,QAAf,EAAyB;AAC3B,UAAIC,YAAY,GAAG,MAAMD,QAAQ,CAACE,IAAT,EAAzB;AACAC,MAAAA,QAAQ,CAACF,YAAD,CAAR;AACH,KAJD,EAKCG,KALD,CAKO,UAASC,GAAT,EAAc;AACjBC,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,GAArB;AACA,YAAMG,MAAM,GAAG,wDAAf;AACAhB,MAAAA,IAAI,CAACiB,kBAAL,CAAwB,WAAxB,EAAoCD,MAApC;AACH,KATD;AAUD,GAjBD,CAJwB,CAuBxB;;;AACA,QAAME,aAAa,GAAG,CAACT,YAAD,EAAeU,KAAf,KAAyB;AAC7C,QAAIC,OAAO,GAAGX,YAAY,CAACY,MAAb,CAAoBF,KAApB,EAA2BG,IAAzC;AACA,QAAIC,QAAQ,GAAGd,YAAY,CAACY,MAAb,CAAoBF,KAApB,EAA2BK,IAA1C,CAF6C,CAG7C;;AACA,QAAIC,SAAS,GAAGhB,YAAY,CAACY,MAAb,CAAoBF,KAApB,EAA2BO,UAA3B,CAAsCC,OAAtC,CAA8CC,IAA9D;AAEA,QAAIC,OAAO,GAAG,gCACXT,OAAO,CAACU,IADG,GAEX,QAFW,GAEFV,OAAO,CAACW,GAFN,GAGX,SAHW,GAGDX,OAAO,CAACY,GAHP,GAIX,UAJW,GAIAZ,OAAO,CAACa,KAJR,GAKX,UALW,GAKAb,OAAO,CAACc,MALR,GAMX,UANW,GAMAd,OAAO,CAACW,GANR,GAOX,MAPH;AASE,QAAII,aAAa,GAAG,yBACnB,GADmB,GAEnB,wBAFmB,GAGnBZ,QAHmB,GAInB,QAJmB,GAKnB,0BALmB,GAMnBE,SANmB,GAOnB,QAPmB,GAQnBI,OARmB,GASnB,QATD;AAWF7B,IAAAA,IAAI,CAACiB,kBAAL,CAAwB,WAAxB,EAAoCkB,aAApC;AACD,GA3BD,CAxBwB,CAqDxB;;;AACA,QAAMxB,QAAQ,GAAIF,YAAD,IAAkB;AACjC,UAAM2B,SAAS,GAAG3B,YAAY,CAACY,MAAb,CAAoBgB,MAAtC;;AACA,SAAI,IAAIC,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACF,SAAf,EAA0BE,CAAC,EAA3B,EAA+B;AAC7BpB,MAAAA,aAAa,CAACT,YAAD,EAAe6B,CAAf,CAAb;AACD;AACF,GALD;;AAOAnC,EAAAA,YAAY;AACZ,SAAO,IAAP;AACH,CA/DD;;AAiEA,eAAeJ,eAAf","sourcesContent":["import './prodDetailsGrid.css';\n// import products from './api/products.json';\n\nconst ProdDetailsGrid =()=> {\n\n    const root = document.getElementById('root');\n   \n    const fetchWestElm = () => {\n      // NOPE:\n      // const productUrl = 'https://www.westelm.com/services/catalog/v4/category/shop/new/all-new/index.json';  \n      // Had to move json file to /public/api/\n      const productUrl = '/api/products.json';\n\n\n      window.fetch(productUrl)\n      .then(async function(response) {\n          let jsonResponse = await response.json();\n          prodGrid(jsonResponse);\n      })\n      .catch(function(err) {\n          console.log('err! ', err);\n          const errMsg = '<h2>Sorry - We are having technical difficulties!</h2>';\n          root.insertAdjacentHTML('beforeend',errMsg);\n      });\n    }\n\n    // single product hero with title\n    const singleProduct = (jsonResponse, index) => {\n      let thisImg = jsonResponse.groups[index].hero;\n      let prodName = jsonResponse.groups[index].name;\n      // TODO: be able to select pricing: \n      let prodPrice = jsonResponse.groups[index].priceRange.regular.high;\n\n      let itemImg = '<img class=\"detailImg\" src='\n        +thisImg.href\n        +' alt=\"'+thisImg.alt\n        +'\" rel=\"'+thisImg.rel\n        +'\" width='+thisImg.width\n        +' height='+thisImg.height\n        +' title=\"'+thisImg.alt\n        +'\" />';\n\n        let itemContainer = '<div class=\"prodCon\"'\n        +'>'\n        +'<div class=\"prodName\">'\n        +prodName\n        +'</div>'\n        +'<div class=\"prodPrice\">$'\n        +prodPrice\n        +'</div>'\n        +itemImg\n        +'</div>';\n\n      root.insertAdjacentHTML('beforeend',itemContainer);\n    }\n\n    // Now deliver all products\n    const prodGrid = (jsonResponse) => {\n      const itemCount = jsonResponse.groups.length;\n      for(let i=0; i<itemCount; i++) {\n        singleProduct(jsonResponse, i);\n      }\n    }\n \n    fetchWestElm()\n    return true;\n}\n\nexport default ProdDetailsGrid;\n\n\n"]},"metadata":{},"sourceType":"module"}